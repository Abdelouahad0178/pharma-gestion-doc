<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guide Utilisateur ‚Äì Syst√®me de Gestion de Pharmacie</title>
  <link rel="icon" type="image/svg+xml"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E%F0%9F%8F%A5%3C/text%3E%3C/svg%3E">
  <!-- Font Awesome 6 -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style>
    /* Reset & tokens */
    *,*::before,*::after { box-sizing: border-box; }
    html,body { margin:0; }
    :root{
      --primary:#667eea; --secondary:#764ba2; --accent:#4CAF50;
      --danger:#f56565; --warning:#ed8936; --info:#4299e1;
      --dark:#2d3748; --light:#f7fafc; --border:#e2e8f0;
      --text:#2d3748; --text-muted:#718096;
      --shadow:0 10px 25px rgba(0,0,0,.1);
      --shadow-lg:0 20px 40px rgba(0,0,0,.12);
      --gradient:linear-gradient(135deg,var(--primary),var(--secondary));
      --transition:all .25s cubic-bezier(.4,0,.2,1);
      --header-h:82px;
    }
    @media (prefers-reduced-motion:reduce){
      *{animation:none!important;transition:none!important;scroll-behavior:auto!important}
    }

    body{
      font-family:Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;
      color:var(--text); background:var(--light); line-height:1.6;
      scroll-behavior:smooth;
    }

    /* Header */
    .header{background:var(--gradient); color:#fff; padding:2rem 1rem; text-align:center; box-shadow:var(--shadow-lg);}
    .header h1{font-size:clamp(1.8rem,3.5vw,3rem); margin:.2rem 0 .4rem; font-weight:800; letter-spacing:-.02em}
    .header p{opacity:.95; font-size:clamp(.95rem,2.4vw,1.15rem)}

    /* Top nav */
    .nav-container{position:sticky; top:0; inset-inline:0; z-index:100; background:#fff; box-shadow:0 2px 10px rgba(0,0,0,.06)}
    .nav{max-width:1200px; margin:auto; padding:1rem; display:flex; align-items:center; gap:1rem}
    .brand{font-weight:800; color:var(--primary); letter-spacing:.5px}
    .nav-toggle{display:none; margin-left:auto; border:0; background:transparent; font-size:1.5rem; color:var(--primary); cursor:pointer}
    .nav-menu{margin-left:auto; list-style:none; display:flex; gap:1rem}
    .nav-menu a{
      display:inline-block; text-decoration:none; color:var(--text); font-weight:600;
      padding:.55rem .9rem; border-radius:.6rem; transition:var(--transition)
    }
    .nav-menu a:hover{background:var(--primary); color:#fff; transform:translateY(-2px)}
    .nav-menu a.active{background:var(--gradient); color:#fff}

    /* Layout */
    .container{max-width:1200px; margin:auto; padding:2rem 1.25rem; display:grid; grid-template-columns:300px 1fr; gap:2rem}
    .main-content{background:#fff; border-radius:1rem; box-shadow:var(--shadow); overflow:hidden}

    /* Sidebar */
    .sidebar{position:sticky; top:calc(var(--header-h) + 16px); align-self:start; background:#fff; border-radius:1rem; padding:1.25rem 1.25rem 1rem; box-shadow:var(--shadow)}
    .sidebar h3{color:var(--primary); margin:.25rem 0 1rem; font-size:1.1rem; padding-bottom:.5rem; border-bottom:2px solid var(--border)}
    .sidebar ul{list-style:none}
    .sidebar li{margin-bottom:.4rem}
    .sidebar a{
      display:flex; gap:.6rem; align-items:center; text-decoration:none; color:var(--text-muted);
      padding:.55rem .65rem; border-radius:.6rem; transition:var(--transition); font-size:.95rem
    }
    .sidebar a:hover{background:var(--gradient); color:#fff; transform:translateX(5px)}
    .sidebar a.active{background:var(--primary); color:#fff}

    /* Sections */
    .section{scroll-margin-top:calc(var(--header-h) + 12px); padding:2.2rem 1.75rem; border-bottom:1px solid var(--border)}
    .section:last-child{border-bottom:0}
    .section h2{
      display:flex; align-items:center; gap:1rem; margin:0 0 .6rem; color:var(--dark);
      font-size:clamp(1.4rem,3.2vw,2.2rem); letter-spacing:-.01em
    }
    .section h2 i{
      display:grid; place-items:center; width:2.6rem; height:2.6rem; border-radius:50%;
      background:var(--gradient); color:#fff; font-size:1.35rem
    }
    .section h3{color:var(--primary); margin:1.5rem 0 .6rem; font-size:clamp(1.05rem,2.2vw,1.35rem)}
    .section p{color:var(--text-muted); margin:.75rem 0 1rem}

    /* Cards */
    .card{background:#fff; border:1px solid var(--border); border-radius:1rem; padding:1.25rem; margin:1rem 0; box-shadow:var(--shadow); transition:var(--transition)}
    .card:hover{transform:translateY(-2px); box-shadow:var(--shadow-lg)}
    .card-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:1rem; margin:1rem 0}

    /* Role cards */
    .role-card{position:relative; overflow:hidden}
    .role-card.docteur{border-left:4px solid var(--accent); background:linear-gradient(135deg,#f0fff4,#f0fff4)}
    .role-card.vendeuse{border-left:4px solid var(--info); background:linear-gradient(135deg,#f0f8ff,#f0f8ff)}
    .role-card h4{margin:0 0 .6rem; color:var(--dark); font-size:1.15rem}

    /* Feature card */
    .feature-card{text-align:center; padding:1.8rem; border:2px solid var(--border); border-radius:1rem; transition:var(--transition)}
    .feature-card:hover{border-color:var(--primary); transform:translateY(-5px)}
    .feature-card i{font-size:2.2rem; color:var(--primary); margin-bottom:.9rem}
    .feature-card h4{margin:.25rem 0 .35rem; color:var(--dark)}

    /* Steps */
    .steps{counter-reset:step}
    .step{counter-increment:step; position:relative; margin:1rem 0; padding:1rem .9rem 1rem 1.1rem; background:linear-gradient(135deg,#fafafa,#f5f5f5); border-left:4px solid var(--primary); border-radius:1rem}
    .step::before{
      content:counter(step); position:absolute; top:-10px; left:16px; width:28px; height:28px; border-radius:50%;
      display:grid; place-items:center; color:#fff; background:var(--gradient); font-weight:700; font-size:.95rem
    }
    .step h4{margin:.3rem 0 .4rem; color:var(--dark)}

    /* Alerts */
    .alert{display:flex; gap:.8rem; align-items:flex-start; border-radius:.75rem; border:1px solid; padding:1rem; margin:1rem 0}
    .alert i{margin-top:.15rem}
    .alert.info{background:#ebf8ff; border-color:#90cdf4; color:#2c5282}
    .alert.warning{background:#fefcbf; border-color:#f6e05e; color:#744210}
    .alert.success{background:#f0fff4; border-color:#9ae6b4; color:#22543d}
    .alert.danger{background:#fed7d7; border-color:#feb2b2; color:#742a2a}

    /* Lists */
    .feature-list{list-style:none; margin:1rem 0; padding:0}
    .feature-list li{display:flex; align-items:center; gap:.6rem; padding:.4rem 0}
    .feature-list i{color:var(--accent); width:20px}

    /* FAQ */
    .faq-item{background:#fff; border-radius:.75rem; box-shadow:var(--shadow); overflow:hidden; margin:.7rem 0}
    .faq-question{display:flex; justify-content:space-between; gap:.6rem; align-items:center; cursor:pointer; padding:1rem 1.1rem; background:#f8fafc; font-weight:700; color:var(--dark); transition:var(--transition)}
    .faq-question:hover{background:#edf2f7}
    .faq-question i{color:var(--primary); transition:var(--transition)}
    .faq-answer{max-height:0; overflow:hidden; padding:0 1.1rem; transition:max-height .3s ease}
    .faq-answer.open{padding:1rem 1.1rem; max-height:500px}

    /* Back to top */
    .back-to-top{
      position:fixed; bottom:1.2rem; right:1.2rem; width:50px; height:50px; border-radius:50%;
      border:0; background:var(--gradient); color:#fff; cursor:pointer; font-size:1.1rem; box-shadow:var(--shadow);
      opacity:0; visibility:hidden; transition:var(--transition); z-index:110
    }
    .back-to-top.visible{opacity:1; visibility:visible}
    .back-to-top:hover{transform:translateY(-3px); box-shadow:var(--shadow-lg)}

    /* Responsive */
    @media (max-width:992px){ .container{grid-template-columns:1fr; gap:1.25rem} .sidebar{position:static} }
    @media (max-width:768px){
      .nav-toggle{display:inline-grid; place-items:center}
      .nav-menu{display:none; position:absolute; top:100%; left:0; right:0; background:#fff; flex-direction:column; gap:0; box-shadow:var(--shadow)}
      .nav-menu.active{display:flex}
      .nav-menu a{padding:1rem; border-bottom:1px solid var(--border)}
      .section{padding:1.6rem 1.2rem}
      .section h2{flex-direction:column; text-align:center; gap:.5rem}
      .card-grid{grid-template-columns:1fr}
    }

    /* Scrollbar */
    ::-webkit-scrollbar{width:8px} ::-webkit-scrollbar-track{background:var(--light)}
    ::-webkit-scrollbar-thumb{background:var(--primary); border-radius:4px}
    ::-webkit-scrollbar-thumb:hover{background:var(--secondary)}

    /* Animations */
    @keyframes fadeInUp{from{opacity:0; transform:translateY(26px)} to{opacity:1; transform:translateY(0)}}
    .fade-in{animation:fadeInUp .6s ease-out}

    /* Print */
    @media print{
      .nav-container,.sidebar,.back-to-top{display:none!important}
      .container{max-width:100%; padding:0}
      .main-content{box-shadow:none}
      .section{page-break-inside:avoid}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header" role="banner">
    <div class="container-fluid" aria-live="polite">
      <h1><i class="fas fa-hospital"></i> Guide Utilisateur</h1>
      <p>Syst√®me de Gestion de Pharmacie ‚Äì Documentation d‚Äôutilisation (version React)</p>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav-container" role="navigation" aria-label="Navigation principale">
    <div class="nav">
      <div class="brand" aria-label="Nom de l‚Äôapplication">üíä Pharma Gestion Pro</div>
      <button class="nav-toggle" id="navToggle" aria-controls="navMenu" aria-expanded="false" aria-label="Ouvrir le menu">
        <i class="fas fa-bars"></i>
      </button>
      <ul class="nav-menu" id="navMenu">
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#getting-started">D√©marrage</a></li>
        <li><a href="#modules">Modules</a></li>
        <li><a href="#utilisation">Utilisation</a></li>
        <li><a href="#faq">FAQ</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main -->
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Sommaire">
      <h3><i class="fas fa-list"></i> Sommaire</h3>
      <ul>
        <li><a href="#introduction"><i class="fas fa-circle-info"></i> Introduction</a></li>
        <li><a href="#getting-started"><i class="fas fa-play"></i> Premier d√©marrage</a></li>
        <li><a href="#roles"><i class="fas fa-users"></i> R√¥les utilisateurs</a></li>
        <li><a href="#connexion"><i class="fas fa-right-to-bracket"></i> Connexion</a></li>
        <li><a href="#dashboard"><i class="fas fa-chart-line"></i> Tableau de bord</a></li>
        <li><a href="#ventes"><i class="fas fa-cart-shopping"></i> Effectuer des ventes</a></li>
        <li><a href="#achats"><i class="fas fa-truck"></i> G√©rer les achats</a></li>
        <li><a href="#stock"><i class="fas fa-boxes-stacked"></i> Consulter le stock</a></li>
        <li><a href="#impressions"><i class="fas fa-print"></i> Impressions</a></li>
        <li><a href="#parametres"><i class="fas fa-gear"></i> Param√®tres</a></li>
        <li><a href="#faq"><i class="fas fa-circle-question"></i> Questions fr√©quentes</a></li>
      </ul>
    </aside>

    <!-- Content -->
    <main class="main-content" id="maincontent">
      <!-- Introduction -->
      <section id="introduction" class="section fade-in" tabindex="-1" aria-labelledby="h-intro">
        <h2 id="h-intro"><i class="fas fa-circle-info"></i> Introduction</h2>
        <p>Ce guide explique comment utiliser votre application React (Pharma Gestion) : navigation, ventes, achats, stock et impressions. La page est responsive (PC / tablette / t√©l√©phone) et accessible.</p>

      <div class="card-grid" role="list">
        <div class="feature-card" role="listitem">
          <i class="fas fa-chart-line"></i>
          <h4>Suivi en temps r√©el</h4>
          <p>Statistiques et indicateurs clefs mis √† jour automatiquement.</p>
        </div>
        <div class="feature-card" role="listitem">
          <i class="fas fa-mobile-screen-button"></i>
          <h4>Interface intuitive</h4>
          <p>Utilisable sur ordinateur, tablette et mobile.</p>
        </div>
        <div class="feature-card" role="listitem">
          <i class="fas fa-shield-halved"></i>
          <h4>S√©curis√©</h4>
          <p>Acc√®s et permissions par r√¥le (Docteur / Vendeuse).</p>
        </div>
        <div class="feature-card" role="listitem">
          <i class="fas fa-arrows-rotate"></i>
          <h4>Synchronisation</h4>
          <p>Multi-appareils et synchronisation temps r√©el.</p>
        </div>
      </div>
      </section>

      <!-- Premier d√©marrage -->
      <section id="getting-started" class="section" tabindex="-1" aria-labelledby="h-start">
        <h2 id="h-start"><i class="fas fa-play"></i> Premier d√©marrage</h2>
        <p>Acc√©dez √† l‚Äôapplication avec un code d‚Äôinvitation g√©n√©r√© par le pharmacien (ou cr√©ez la soci√©t√© si vous √™tes Docteur).</p>

        <div class="steps">
          <div class="step">
            <h4>Inscription avec code d‚Äôinvitation</h4>
            <p>Sur la page d‚Äôinscription, entrez le code √† 6‚Äì8 caract√®res. L‚Äôapp vous relie √† la bonne pharmacie.</p>
          </div>
          <div class="step">
            <h4>Cr√©ation du compte</h4>
            <p>Renseignez nom, email et mot de passe. Le r√¥le (Docteur / Vendeuse) provient de l‚Äôinvitation.</p>
          </div>
          <div class="step">
            <h4>Premi√®re connexion</h4>
            <p>Connectez-vous : vous arrivez sur le tableau de bord de votre pharmacie.</p>
          </div>
        </div>

        <div class="alert info">
          <i class="fas fa-circle-info" aria-hidden="true"></i>
          <div><strong>Important :</strong> Sans code valide, pas de cr√©ation de compte employ√©. Demandez un code au pharmacien.</div>
        </div>
      </section>

      <!-- R√¥les -->
      <section id="roles" class="section" tabindex="-1" aria-labelledby="h-roles">
        <h2 id="h-roles"><i class="fas fa-users"></i> R√¥les utilisateurs</h2>
        <p>Deux profils principaux existent.</p>

        <div class="card-grid">
          <div class="card role-card docteur">
            <h4><i class="fas fa-user-doctor"></i> Docteur (Pharmacien)</h4>
            <p>Acc√®s complet √† toutes les fonctionnalit√©s.</p>
            <ul class="feature-list">
              <li><i class="fas fa-check"></i> Dashboard & statistiques</li>
              <li><i class="fas fa-check"></i> Ventes / Achats</li>
              <li><i class="fas fa-check"></i> Stock & transferts</li>
              <li><i class="fas fa-check"></i> Param√®tres & utilisateurs</li>
              <li><i class="fas fa-check"></i> Rapports & exports</li>
            </ul>
          </div>

          <div class="card role-card vendeuse">
            <h4><i class="fas fa-user"></i> Vendeuse</h4>
            <p>Acc√®s optimis√© pour l‚Äôactivit√© de vente.</p>
            <ul class="feature-list">
              <li><i class="fas fa-check"></i> Module ventes complet</li>
              <li><i class="fas fa-check"></i> Consultation du stock</li>
              <li><i class="fas fa-check"></i> Impression des documents</li>
              <li><i class="fas fa-check"></i> Statistiques personnelles</li>
            </ul>
          </div>
        </div>

        <div class="alert success">
          <i class="fas fa-key" aria-hidden="true"></i>
          <div><strong>Permissions √©tendues :</strong> le pharmacien peut accorder des permissions suppl√©mentaires aux vendeuses.</div>
        </div>
      </section>

      <!-- Connexion -->
      <section id="connexion" class="section" tabindex="-1" aria-labelledby="h-login">
        <h2 id="h-login"><i class="fas fa-right-to-bracket"></i> Connexion & navigation</h2>

        <h3>Se connecter</h3>
        <div class="steps">
          <div class="step">
            <h4>Page de connexion</h4>
            <p>Saisissez email et mot de passe.</p>
          </div>
          <div class="step">
            <h4>Acc√®s √† la bonne soci√©t√©</h4>
            <p>Si vous avez plusieurs pharmacies, choisissez la soci√©t√© avant d‚Äôentrer.</p>
          </div>
        </div>

        <h3>Navigation</h3>
        <ul class="feature-list">
          <li><i class="fas fa-house"></i> <strong>Accueil :</strong> Dashboard et stats</li>
          <li><i class="fas fa-cart-shopping"></i> <strong>Ventes :</strong> ventes & factures</li>
          <li><i class="fas fa-truck"></i> <strong>Achats :</strong> commandes & r√©ceptions</li>
          <li><i class="fas fa-boxes-stacked"></i> <strong>Stock :</strong> inventaire & lots</li>
          <li><i class="fas fa-gear"></i> <strong>Param√®tres :</strong> configuration</li>
        </ul>
      </section>

      <!-- Dashboard -->
      <section id="dashboard" class="section" tabindex="-1" aria-labelledby="h-dash">
        <h2 id="h-dash"><i class="fas fa-chart-line"></i> Utiliser le tableau de bord</h2>
        <p>Vue d‚Äôensemble de l‚Äôactivit√©.</p>

        <h3>Infos principales</h3>
        <ul class="feature-list">
          <li><i class="fas fa-receipt"></i> Chiffre d‚Äôaffaires</li>
          <li><i class="fas fa-list-check"></i> Nombre de ventes</li>
          <li><i class="fas fa-truck-fast"></i> Montant des achats</li>
          <li><i class="fas fa-wallet"></i> Caisse</li>
          <li><i class="fas fa-triangle-exclamation"></i> Stock critique</li>
        </ul>

        <h3>Filtres de p√©riode</h3>
        <ul class="feature-list">
          <li><i class="fas fa-calendar-day"></i> Aujourd‚Äôhui</li>
          <li><i class="fas fa-calendar-week"></i> Cette semaine</li>
          <li><i class="fas fa-calendar"></i> Ce mois</li>
          <li><i class="fas fa-calendar-check"></i> P√©riode personnalis√©e</li>
        </ul>

        <div class="alert info">
          <i class="fas fa-circle-info" aria-hidden="true"></i>
          <div><strong>Multi-stock :</strong> double-cliquez une carte pour basculer ¬´ Stock 1 ¬ª / ¬´ Stock 1 + 2 ¬ª.</div>
        </div>
      </section>

      <!-- Ventes -->
      <section id="ventes" class="section" tabindex="-1" aria-labelledby="h-ventes">
        <h2 id="h-ventes"><i class="fas fa-cart-shopping"></i> Effectuer des ventes</h2>
        <p>Enregistre les transactions et met √† jour les lots.</p>

        <h3>Processus</h3>
        <div class="steps">
          <div class="step"><h4>Rechercher un produit</h4><p>Recherche par nom ou scan code-barres (cam√©ra/douchette).</p></div>
          <div class="step"><h4>S√©lectionner le lot</h4><p>Lots tri√©s par date d‚Äôexpiration (le plus proche d‚Äôabord).</p></div>
          <div class="step"><h4>Quantit√©</h4><p>Contr√¥le automatique des stocks.</p></div>
          <div class="step"><h4>Valider</h4><p>Choisissez le paiement et validez. Le stock est d√©cr√©ment√©.</p></div>
        </div>

        <h3>Fonctionnalit√©s</h3>
        <ul class="feature-list">
          <li><i class="fas fa-barcode"></i> Scan cam√©ra / USB</li>
          <li><i class="fas fa-layer-group"></i> Gestion multi-lots</li>
          <li><i class="fas fa-percent"></i> Remises</li>
          <li><i class="fas fa-file-invoice"></i> Factures</li>
          <li><i class="fas fa-rotate-left"></i> Annulation (permission requise)</li>
        </ul>

        <div class="alert warning">
          <i class="fas fa-triangle-exclamation" aria-hidden="true"></i>
          <div><strong>Attention :</strong> une vente valid√©e met √† jour les stocks. V√©rifiez les quantit√©s.</div>
        </div>
      </section>

      <!-- Achats -->
      <section id="achats" class="section" tabindex="-1" aria-labelledby="h-achats">
        <h2 id="h-achats"><i class="fas fa-truck"></i> G√©rer les achats</h2>
        <div class="alert danger">
          <i class="fas fa-lock" aria-hidden="true"></i>
          <div><strong>Acc√®s restreint :</strong> r√©serv√© au Docteur (ou vendeuse avec permission).</div>
        </div>

        <h3>Bon d‚Äôachat</h3>
        <div class="steps">
          <div class="step"><h4>Infos g√©n√©rales</h4><p>Fournisseur, date, stock de destination (S1/S2).</p></div>
          <div class="step"><h4>Ajouter des articles</h4><p>Nom, quantit√©, prix unitaire estim√©.</p></div>
          <div class="step"><h4>Enregistrer</h4><p>Le bon appara√Æt en ¬´ Command√© ¬ª.</p></div>
        </div>

        <h3>R√©ception</h3>
        <div class="steps">
          <div class="step"><h4>Ouvrir le bon</h4><p>Cliquez ¬´ R√©ceptionner ¬ª.</p></div>
          <div class="step"><h4>Quantit√©s / lots</h4><p>Saisissez quantit√©s r√©elles, n¬∞ de lot, dates de p√©remption.</p></div>
          <div class="step"><h4>Valider</h4><p>Le stock est mis √† jour en temps r√©el.</p></div>
        </div>
      </section>

      <!-- Stock -->
      <section id="stock" class="section" tabindex="-1" aria-labelledby="h-stock">
        <h2 id="h-stock"><i class="fas fa-boxes-stacked"></i> Consulter le stock</h2>
        <p>Inventaire, filtres et actions selon permissions.</p>

        <h3>Vue d‚Äôensemble</h3>
        <ul class="feature-list">
          <li><i class="fas fa-magnifying-glass"></i> Recherche par nom</li>
          <li><i class="fas fa-filter"></i> Filtres par stock, statut, date</li>
          <li><i class="fas fa-arrow-up-wide-short"></i> Tri par nom, quantit√©, p√©remption</li>
          <li><i class="fas fa-bell"></i> Alertes rupture / proche p√©remption</li>
        </ul>

        <h3>Informations affich√©es</h3>
        <ul class="feature-list">
          <li><i class="fas fa-tag"></i> Nom / r√©f√©rence</li>
          <li><i class="fas fa-warehouse"></i> Quantit√©s par stock</li>
          <li><i class="fas fa-calendar-day"></i> Dates de p√©remption</li>
          <li><i class="fas fa-barcode"></i> Num√©ro de lot / code-barres</li>
          <li><i class="fas fa-dollar-sign"></i> Prix achat / vente</li>
        </ul>

        <h3>Avanc√© (Docteur)</h3>
        <ul class="feature-list">
          <li><i class="fas fa-right-left"></i> Transferts S1 ‚áÑ S2</li>
          <li><i class="fas fa-rotate-left"></i> Retours fournisseurs</li>
          <li><i class="fas fa-pen-to-square"></i> Corrections d‚Äôinventaire</li>
          <li><i class="fas fa-file-export"></i> Export Excel</li>
        </ul>
      </section>

      <!-- Impressions -->
      <section id="impressions" class="section" tabindex="-1" aria-labelledby="h-print">
        <h2 id="h-print"><i class="fas fa-print"></i> Impressions & documents</h2>
        <p>Documents g√©n√©r√©s automatiquement par l‚Äôapplication.</p>

        <h3>Documents</h3>
        <ul class="feature-list">
          <li><i class="fas fa-receipt"></i> Factures de vente (tra√ßabilit√© des lots)</li>
          <li><i class="fas fa-file-invoice"></i> Bons d‚Äôachat</li>
          <li><i class="fas fa-chart-bar"></i> Rapports de stock</li>
          <li><i class="fas fa-circle-exclamation"></i> Alertes ruptures/p√©remptions</li>
        </ul>

        <h3>Personnalisation</h3>
        <ul class="feature-list">
          <li><i class="fas fa-heading"></i> En-t√™tes avec logo</li>
          <li><i class="fas fa-circle-info"></i> Coordonn√©es de la pharmacie</li>
          <li><i class="fas fa-stamp"></i> Cachet image/texte</li>
          <li><i class="fas fa-palette"></i> Couleurs & mise en page</li>
        </ul>

        <div class="alert info">
          <i class="fas fa-print" aria-hidden="true"></i>
          <div><strong>Impression :</strong> optimis√© A4, compatible imprimantes ticket.</div>
        </div>
      </section>

      <!-- Param√®tres -->
      <section id="parametres" class="section" tabindex="-1" aria-labelledby="h-settings">
        <h2 id="h-settings"><i class="fas fa-gear"></i> Param√®tres</h2>
        <div class="alert warning">
          <i class="fas fa-lock" aria-hidden="true"></i>
          <div><strong>Acc√®s restreint :</strong> la plupart des r√©glages sont r√©serv√©s au Docteur.</div>
        </div>

        <h3>Param√®tres utilisateur</h3>
        <ul class="feature-list">
          <li><i class="fas fa-user"></i> Profil (nom, email)</li>
          <li><i class="fas fa-key"></i> Mot de passe</li>
          <li><i class="fas fa-bell"></i> Notifications</li>
        </ul>

        <h3>Param√®tres de la pharmacie</h3>
        <ul class="feature-list">
          <li><i class="fas fa-store"></i> Nom, adresse, t√©l√©phone</li>
          <li><i class="fas fa-users-gear"></i> Invitations, r√¥les, permissions</li>
          <li><i class="fas fa-file-lines"></i> En-t√™tes, cachets, formats</li>
          <li><i class="fas fa-database"></i> Export / restauration</li>
        </ul>

        <h3>Gestion des invitations</h3>
        <div class="steps">
          <div class="step"><h4>Cr√©er</h4><p>G√©n√©rez un code d‚Äôinvitation en pr√©cisant r√¥le & permissions.</p></div>
          <div class="step"><h4>Partager</h4><p>Envoyez le code (SMS/Email/WhatsApp).</p></div>
          <div class="step"><h4>Suivre</h4><p>Statuts : en attente / utilis√©e / expir√©e.</p></div>
        </div>
      </section>

      <!-- FAQ -->
      <section id="faq" class="section" tabindex="-1" aria-labelledby="h-faq">
        <h2 id="h-faq"><i class="fas fa-circle-question"></i> Questions fr√©quentes</h2>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>Comment scanner un code-barres ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Dans Ventes, cliquez l‚Äôic√¥ne cam√©ra ou utilisez une douchette USB.</p>
            <p><strong>Astuce :</strong> autorisez l‚Äôacc√®s √† la cam√©ra.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>Que faire si je me trompe dans une vente ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Pr√©venez le pharmacien : il peut annuler la vente et r√©tablir le stock.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>Comment filtrer les ventes sur une p√©riode ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Sur le Dashboard, utilisez les filtres de p√©riode (jour/semaine/mois/personnalis√©e).</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>Pourquoi certains produits sont en rouge dans le stock ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Rupture, faible quantit√©, ou proche de p√©remption.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>Puis-je r√©imprimer une facture ancienne ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Oui, via l‚Äôhistorique des ventes : ¬´ Imprimer ¬ª.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>L‚Äôapplication fonctionne-t-elle hors-ligne ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Connexion requise ; en cas de coupure courte, les donn√©es sont resynchronis√©es au retour du r√©seau.</p>
          </div>
        </div>

        <div class="faq-item">
          <button class="faq-question" type="button" aria-expanded="false">
            <span>Comment changer mon mot de passe ?</span><i class="fas fa-plus"></i>
          </button>
          <div class="faq-answer" role="region" aria-hidden="true">
            <p>Menu profil (en haut √† droite) ‚Üí ¬´ Profil ¬ª ‚Üí modifier le mot de passe.</p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Back to Top -->
  <button class="back-to-top" id="backToTop" aria-label="Revenir en haut">
    <i class="fas fa-chevron-up"></i>
  </button>

  <script>
    /* ===== Helpers ===== */
    const $ = (sel, root=document) => root.querySelector(sel);
    const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    /* ===== Mobile nav ===== */
    const navToggle = $('#navToggle');
    const navMenu = $('#navMenu');
    navToggle?.addEventListener('click', () => {
      const open = navMenu.classList.toggle('active');
      navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    /* Close menu when clicking outside (mobile) */
    document.addEventListener('click', (e) => {
      if (!navMenu || !navToggle) return;
      const inside = navMenu.contains(e.target) || navToggle.contains(e.target);
      if (!inside) {
        navMenu.classList.remove('active');
        navToggle.setAttribute('aria-expanded','false');
      }
    });

    /* ===== Smooth anchor & keep hash ===== */
    const allLinks = $$('.nav-menu a, .sidebar a');
    allLinks.forEach(a => {
      a.addEventListener('click', (e) => {
        const href = a.getAttribute('href') || '';
        if (!href.startsWith('#')) return;
        e.preventDefault();
        const id = href.slice(1);
        const el = document.getElementById(id);
        if (!el) return;
        el.scrollIntoView({ behavior:'smooth', block:'start' });
        history.replaceState(null, '', '#' + id);
        navMenu?.classList.remove('active');
        navToggle?.setAttribute('aria-expanded','false');
        /* Move focus for accessibility after scroll */
        setTimeout(() => el.focus({ preventScroll:true }), 300);
      });
    });

    /* ===== Back to top ===== */
    const backBtn = $('#backToTop');
    function updateBackBtn(){ window.scrollY > 300 ? backBtn.classList.add('visible') : backBtn.classList.remove('visible'); }
    backBtn?.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));
    window.addEventListener('scroll', updateBackBtn, { passive:true });
    updateBackBtn();

    /* ===== FAQ toggle (accessible) ===== */
    $$('.faq-item').forEach(item => {
      const btn = $('.faq-question', item);
      const panel = $('.faq-answer', item);
      btn.addEventListener('click', () => {
        const open = panel.classList.toggle('open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
        panel.setAttribute('aria-hidden', open ? 'false' : 'true');
        $('.fa-plus, .fa-minus', btn)?.classList.replace(open?'fa-plus':'fa-minus', open?'fa-minus':'fa-plus');
      });
    });

    /* ===== Active section (IntersectionObserver + fallback) ===== */
    const sections = $$('.section');
    const navAndSideLinks = $$('.nav-menu a, .sidebar a');

    function setActive(id){
      navAndSideLinks.forEach(l => {
        l.classList.toggle('active', l.getAttribute('href') === '#' + id);
      });
    }

    if ('IntersectionObserver' in window){
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting){
            setActive(entry.target.id);
          }
        });
      }, { rootMargin: '-40% 0px -55% 0px', threshold: 0.01 });
      sections.forEach(s => io.observe(s));
    } else {
      /* Fallback scroll-based */
      const onScroll = () => {
        let current = sections[0]?.id;
        sections.forEach(sec => {
          const rect = sec.getBoundingClientRect();
          if (rect.top <= 140 && rect.bottom >= 140) current = sec.id;
        });
        setActive(current);
      };
      window.addEventListener('scroll', onScroll, { passive:true });
      onScroll();
    }

    /* ===== Animate on appear ===== */
    function animateOnScroll(){
      sections.forEach(el => {
        const r = el.getBoundingClientRect();
        if (r.top < window.innerHeight * 0.85) el.classList.add('fade-in');
      });
    }
    window.addEventListener('scroll', animateOnScroll, { passive:true });
    document.addEventListener('DOMContentLoaded', animateOnScroll);

    /* ===== Keyboard: ESC closes menu & collapses FAQ ===== */
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape'){
        navMenu?.classList.remove('active');
        navToggle?.setAttribute('aria-expanded','false');
        $$('.faq-answer.open').forEach(p => {
          p.classList.remove('open');
          p.setAttribute('aria-hidden','true');
        });
        $$('.faq-question[aria-expanded="true"]').forEach(b => b.setAttribute('aria-expanded','false'));
      }
    });

    /* ===== If a hash is present on load, scroll to it nicely ===== */
    window.addEventListener('load', () => {
      const id = location.hash?.slice(1);
      const target = id && document.getElementById(id);
      if (target) {
        target.scrollIntoView({ behavior:'smooth', block:'start' });
        setTimeout(() => target.focus({ preventScroll:true }), 350);
      }
    });
  </script>
</body>
</html>
